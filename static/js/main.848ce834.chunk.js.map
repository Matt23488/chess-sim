{"version":3,"sources":["components/ChessBoard.tsx","chess/game.ts","svg/bb.svg","svg/bk.svg","svg/bn.svg","svg/bp.svg","svg/bq.svg","svg/br.svg","svg/wb.svg","svg/wk.svg","svg/wn.svg","svg/wp.svg","svg/wq.svg","svg/wr.svg","utils/hooks.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["rankLookup","Map","fileLookup","ChessBoard","props","grid","useMemo","Array","fill","map","_","i","x","y","Math","floor","get","className","perspective","toUpperCase","file","rank","positionProps","chessGame","getPositionProperties","PI","style","backgroundColor","onClick","onCellClick","renderedPiece","standardInitialState","Object","freeze","type","player","flattenArray","arr","concat","apply","standardRules","name","pieceType","piece","state","moveHistory","length","result","rayCast","toFile","toRank","possibleMoves","push","movedPieces","from","to","capturedPieces","penultimateRank","offsetRank","positionLookup","targetRank","targets","targetFile","offsetFile","forEach","otherPiece","validRank","otherPieceLastMove","lastMove","history","filter","target","multiRayCast","rook","some","s","activePieces","p","move","makeUnion","values","valueSet","Set","guard","value","has","unionNamespace","Rank","amount","match","with","otherwise","undefined","makePlayerToggle","current","other","getCurrent","toggle","validSpaces","nextFile","nextRank","count","rays","_extends","assign","arguments","source","key","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","SvgBb","_ref","svgRef","title","titleId","xmlns","viewBox","ref","id","opacity","fillRule","fillOpacity","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeOpacity","ForwardRef","SvgBk","SvgBn","transform","SvgBp","cx","cy","r","_ref9","_ref10","SvgBq","SvgBr","SvgWb","SvgWk","SvgWn","SvgWp","SvgWq","SvgWr","svg","renderStandardPiece","WhitePawn","BlackPawn","WhiteRook","BlackRook","WhiteKnight","BlackKnight","WhiteBishop","BlackBishop","WhiteQueen","BlackQueen","WhiteKing","BlackKing","Svg","numericFileLookup","a","b","c","e","f","g","h","useChessGame","game","pieces","rules","includeStandardPiecesAndRules","allRules","analyzeNewState","clear","set","getPlayerTurn","getCapturedPieces","getPieceTypeAtPosition","getPossibleMovesAtPosition","movePiece","fromFile","fromRank","movement","find","splice","undo","lastMovement","pop","beginGame","renderPiece","useCallback","useState","selectedPosition","setSelectedPosition","backgroundOverrides","setBackgroundOverrides","turnNumber","setTurnNumber","rotationOffset","movements","selectPosition","underAttack","selectedPieceDestinations","primary","renderCaptures","width","height","playerTurn","ArrowPrototype","dx","dy","rankDifference","sqrt","angle","atan2","App","setPerspective","htmlFor","onChange","display","justifyContent","flexDirection","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.848ce834.chunk.js","sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Rank, File, Player } from '../chess/game';\r\nimport './css/ChessBoard.css';\r\nimport { ChessHook } from '../utils/hooks';\r\n\r\nconst ChessBoard: React.FC<ChessBoardProperties> = props => {\r\n    const grid = useMemo(() => Array(8 * 8).fill(0).map((_, i) => {\r\n        const x = i % 8;\r\n        const y = Math.floor(i / 8);\r\n    \r\n        return [fileLookup.get(x)!, rankLookup.get(y)!, x, y] as [File, Rank, number, number];\r\n    }), []);\r\n\r\n    return (\r\n        <div className={`ChessBoard ChessBoard__Perspective${props.perspective}`}>\r\n            {Array(8).fill(0).map((_,i) => <div key={`ri${i}`} className={`ChessBoard__Cell ChessBoard__RankIndicator ChessBoard__Rank${rankLookup.get(i)}`}>{rankLookup.get(i)}</div>)}\r\n            {Array(8).fill(0).map((_,i) => <div key={`fi${i}`} className={`ChessBoard__Cell ChessBoard__FileIndicator ChessBoard__File${fileLookup.get(i)?.toUpperCase()}`}>{fileLookup.get(i)}</div>)}\r\n            {grid.map(([file, rank]) => {\r\n                const positionProps = props.chessGame.getPositionProperties(file, rank, props.perspective === 'white' ? 0 : Math.PI);\r\n                \r\n                return (\r\n                    <div\r\n                        key={`${file}${rank}`}\r\n                        className={`ChessBoard__Cell ChessBoard__File${file.toUpperCase()} ChessBoard__Rank${rank}`}\r\n                        style={{ backgroundColor: positionProps.backgroundColor }}\r\n                        onClick={() => props.onCellClick(file, rank)}\r\n                    >\r\n                        {positionProps.renderedPiece}\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst rankLookup: Map<number, Rank> = new Map([\r\n    [0, 8],\r\n    [1, 7],\r\n    [2, 6],\r\n    [3, 5],\r\n    [4, 4],\r\n    [5, 3],\r\n    [6, 2],\r\n    [7, 1],\r\n]);\r\n\r\nconst fileLookup: Map<number, File> = new Map([\r\n    [0, 'a'],\r\n    [1, 'b'],\r\n    [2, 'c'],\r\n    [3, 'd'],\r\n    [4, 'e'],\r\n    [5, 'f'],\r\n    [6, 'g'],\r\n    [7, 'h'],\r\n]);\r\n\r\ninterface ChessBoardProperties {\r\n    onCellClick: (file: File, rank: Rank) => void;\r\n    chessGame: ChessHook;\r\n    perspective: Player;\r\n}\r\n\r\nexport default ChessBoard;","import { match } from 'ts-pattern';\r\n\r\nexport const standardInitialState: readonly GamePiece[] = Object.freeze([\r\n    { type: 'rook', file: 'a', rank: 1, player: 'white' },\r\n    { type: 'knight', file: 'b', rank: 1, player: 'white' },\r\n    { type: 'bishop', file: 'c', rank: 1, player: 'white' },\r\n    { type: 'queen', file: 'd', rank: 1, player: 'white' },\r\n    { type: 'king', file: 'e', rank: 1, player: 'white' },\r\n    { type: 'bishop', file: 'f', rank: 1, player: 'white' },\r\n    { type: 'knight', file: 'g', rank: 1, player: 'white' },\r\n    { type: 'rook', file: 'h', rank: 1, player: 'white' },\r\n    { type: 'pawn', file: 'a', rank: 2, player: 'white' },\r\n    { type: 'pawn', file: 'b', rank: 2, player: 'white' },\r\n    { type: 'pawn', file: 'c', rank: 2, player: 'white' },\r\n    { type: 'pawn', file: 'd', rank: 2, player: 'white' },\r\n    { type: 'pawn', file: 'e', rank: 2, player: 'white' },\r\n    { type: 'pawn', file: 'f', rank: 2, player: 'white' },\r\n    { type: 'pawn', file: 'g', rank: 2, player: 'white' },\r\n    { type: 'pawn', file: 'h', rank: 2, player: 'white' },\r\n    { type: 'rook', file: 'a', rank: 8, player: 'black' },\r\n    { type: 'knight', file: 'b', rank: 8, player: 'black' },\r\n    { type: 'bishop', file: 'c', rank: 8, player: 'black' },\r\n    { type: 'queen', file: 'd', rank: 8, player: 'black' },\r\n    { type: 'king', file: 'e', rank: 8, player: 'black' },\r\n    { type: 'bishop', file: 'f', rank: 8, player: 'black' },\r\n    { type: 'knight', file: 'g', rank: 8, player: 'black' },\r\n    { type: 'rook', file: 'h', rank: 8, player: 'black' },\r\n    { type: 'pawn', file: 'a', rank: 7, player: 'black' },\r\n    { type: 'pawn', file: 'b', rank: 7, player: 'black' },\r\n    { type: 'pawn', file: 'c', rank: 7, player: 'black' },\r\n    { type: 'pawn', file: 'd', rank: 7, player: 'black' },\r\n    { type: 'pawn', file: 'e', rank: 7, player: 'black' },\r\n    { type: 'pawn', file: 'f', rank: 7, player: 'black' },\r\n    { type: 'pawn', file: 'g', rank: 7, player: 'black' },\r\n    { type: 'pawn', file: 'h', rank: 7, player: 'black' },\r\n]);\r\n\r\n// TODO: Move somewhere else\r\nconst flattenArray = <T>(arr: T[][]) => ([] as T[]).concat.apply([], arr);\r\n\r\nconst standardRules: GameRule[] = [\r\n    {\r\n        name: 'Pawn Quick Start',\r\n        pieceType: 'pawn',\r\n        apply: (piece, state) => {\r\n            if (piece.moveHistory.length > 0) return;\r\n            \r\n            const result = rayCast(state, [piece.file, piece.rank], [0, piece.player === 'white' ? 1 : -1], 2);\r\n            if (result.length !== 2) return;\r\n            \r\n            const [,[toFile, toRank]] = result;\r\n\r\n            piece.possibleMoves.push({\r\n                movedPieces: [{\r\n                    piece,\r\n                    from: [piece.file, piece.rank],\r\n                    to: [toFile, toRank],\r\n                }],\r\n                capturedPieces: [],\r\n            });\r\n        },\r\n    }, {\r\n        name: 'Pawn Standard Movement',\r\n        pieceType: 'pawn',\r\n        apply: (piece, state) => {\r\n            const penultimateRank = (piece.player === 'white' ? 7 : 1);\r\n            if (piece.rank === penultimateRank) return;\r\n\r\n            const toRank = offsetRank(piece.rank, piece.player === 'white' ? 1 : -1);\r\n            const otherPiece = state.positionLookup.get(`${piece.file}${toRank}`);\r\n            if (otherPiece) return;\r\n\r\n            piece.possibleMoves.push({\r\n                movedPieces: [{\r\n                    piece,\r\n                    from: [piece.file, piece.rank],\r\n                    to: [piece.file, toRank!],\r\n                }],\r\n                capturedPieces: [],\r\n            });\r\n        },\r\n    }, {\r\n        name: 'Pawn Standard Capture',\r\n        pieceType: 'pawn',\r\n        apply: (piece, state) => {\r\n            const targetRank = offsetRank(piece.rank, piece.player === 'white' ? 1 : -1)!;\r\n            const targets: [File, Rank][] = [];\r\n            let targetFile = offsetFile(piece.file, -1);\r\n            if (targetFile) targets.push([targetFile, targetRank]);\r\n            targetFile = offsetFile(piece.file, 1);\r\n            if (targetFile) targets.push([targetFile, targetRank]);\r\n\r\n            targets.forEach(([file, rank]) => {\r\n                const otherPiece = state.positionLookup.get(`${file}${rank}`);\r\n                if (!otherPiece || otherPiece.player === piece.player) return;\r\n\r\n                piece.possibleMoves.push({\r\n                    movedPieces: [{\r\n                        piece,\r\n                        from: [piece.file, piece.rank],\r\n                        to: [file, rank],\r\n                    }],\r\n                    capturedPieces: [otherPiece],\r\n                });\r\n            });\r\n        },\r\n    }, {\r\n        name: 'Pawn En Passant Capture',\r\n        pieceType: 'pawn',\r\n        apply: (piece, state) => {\r\n            const validRank = piece.player === 'white' ? 5 : 4;\r\n            if (piece.rank !== validRank) return;\r\n\r\n            const targets: [File, Rank][] = [];\r\n            let targetFile = offsetFile(piece.file, -1);\r\n            if (targetFile) targets.push([targetFile, validRank]);\r\n            targetFile = offsetFile(piece.file, 1);\r\n            if (targetFile) targets.push([targetFile, validRank]);\r\n\r\n            targets.forEach(([file, rank]) => {\r\n                const otherPiece = state.positionLookup.get(`${file}${rank}`);\r\n                if (!otherPiece || otherPiece.moveHistory.length !== 1) return;\r\n\r\n                const otherPieceLastMove = otherPiece.moveHistory[otherPiece.moveHistory.length - 1];\r\n                const lastMove = state.history[state.history.length - 1];\r\n                if (otherPieceLastMove !== lastMove || lastMove?.movedPieces[0].piece !== otherPiece) return;\r\n\r\n                piece.possibleMoves.push({\r\n                    movedPieces: [{\r\n                        piece,\r\n                        from: [piece.file, piece.rank],\r\n                        to: [file, piece.player === 'white' ? 6 : 3],\r\n                    }],\r\n                    capturedPieces: [otherPiece],\r\n                });\r\n            });\r\n        },\r\n    }, {\r\n        name: 'Knight Standard Movement',\r\n        pieceType: 'knight',\r\n        apply: (piece, state) => {\r\n            [\r\n                [offsetFile(piece.file, -1), offsetRank(piece.rank, 2)],\r\n                [offsetFile(piece.file, 1), offsetRank(piece.rank, 2)],\r\n                [offsetFile(piece.file, -2), offsetRank(piece.rank, 1)],\r\n                [offsetFile(piece.file, 2), offsetRank(piece.rank, 1)],\r\n                [offsetFile(piece.file, -2), offsetRank(piece.rank, -1)],\r\n                [offsetFile(piece.file, 2), offsetRank(piece.rank, -1)],\r\n                [offsetFile(piece.file, -1), offsetRank(piece.rank, -2)],\r\n                [offsetFile(piece.file, 1), offsetRank(piece.rank, -2)],\r\n            ]\r\n            .filter((target): target is [File, Rank] => !!target[0] && !!target[1])\r\n            .forEach(([file, rank]) => {\r\n                const otherPiece = state.positionLookup.get(`${file}${rank}`);\r\n                if (otherPiece && otherPiece.player === piece.player) return;\r\n\r\n                piece.possibleMoves.push({\r\n                    movedPieces: [{\r\n                        piece,\r\n                        from: [piece.file, piece.rank],\r\n                        to: [file, rank],\r\n                    }],\r\n                    capturedPieces: otherPiece ? [otherPiece] : [],\r\n                });\r\n            });\r\n        },\r\n    }, {\r\n        name: 'Rook Standard Movement',\r\n        pieceType: 'rook',\r\n        apply: (piece, state) => {\r\n            piece.possibleMoves.push(...multiRayCast(piece, state, [1, 0, 8], [-1, 0, 8], [0, 1, 8], [0, -1, 8]));\r\n        },\r\n    }, {\r\n        name: 'Bishop Standard Movement',\r\n        pieceType: 'bishop',\r\n        apply: (piece, state) => {\r\n            piece.possibleMoves.push(...multiRayCast(piece, state, [1, 1, 8], [-1, 1, 8], [1, -1, 8], [-1, -1, 8]));\r\n        },\r\n    }, {\r\n        name: 'Queen Standard Movement',\r\n        pieceType: 'queen',\r\n        apply: (piece, state) => {\r\n            piece.possibleMoves.push(...multiRayCast(\r\n                piece, state,\r\n                [1, 0, 8], [-1, 0, 8], [0, 1, 8], [0, -1, 8],\r\n                [1, 1, 8], [-1, 1, 8], [1, -1, 8], [-1, -1, 8],\r\n            ));\r\n        },\r\n    }, {\r\n        name: 'King Standard Movement',\r\n        pieceType: 'king',\r\n        apply: (piece, state) => {\r\n            piece.possibleMoves.push(...multiRayCast(\r\n                piece, state,\r\n                [1, 0, 1], [-1, 0, 1], [0, 1, 1], [0, -1, 1],\r\n                [1, 1, 1], [-1, 1, 1], [1, -1, 1], [-1, -1, 1],\r\n            ));\r\n        },\r\n    }, {\r\n        name: 'King Castle',\r\n        pieceType: 'king',\r\n        apply: (piece, state) => { // TODO: don't allow if King is in check. Can't castle out of check, so even if it takes you out of check it's still invalid.\r\n            if (piece.moveHistory.length > 0) return;\r\n\r\n            const rank = piece.player === 'white' ? 1 : 8;\r\n\r\n            // King side\r\n            let rook = state.positionLookup.get(`h${rank}`);\r\n            if (rook && rook.moveHistory.length === 0) {\r\n                const emptySpaces = [\r\n                    state.positionLookup.get(`f${rank}`),\r\n                    state.positionLookup.get(`g${rank}`),\r\n                ];\r\n                if (!emptySpaces.some(s => s)) {\r\n                    // TODO: This relies on moves being already calculated for these pieces.\r\n                    // That is not be guaranteed to happen. Need to build that into the API,\r\n                    // maybe a life cycle system with defined points to apply game rules\r\n                    const enemyPieces = state.activePieces.filter(p => p.player !== piece.player);\r\n                    const intermediateCellUnderAttack = enemyPieces.some(p =>\r\n                        p.possibleMoves.some(move => {\r\n                            const [{ to: [ targetFile, targetRank ]}] = move.movedPieces;\r\n                            return targetFile === 'f' && targetRank === rank;\r\n                        })\r\n                    );\r\n                    if (!intermediateCellUnderAttack) {\r\n                        piece.possibleMoves.push({\r\n                            movedPieces: [{\r\n                                piece,\r\n                                from: [piece.file, piece.rank],\r\n                                to: ['g', rank],\r\n                            }, {\r\n                                piece: rook,\r\n                                from: [rook.file, rook.rank],\r\n                                to: ['f', rank],\r\n                            }],\r\n                            capturedPieces: [],\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Queen side\r\n            rook = state.positionLookup.get(`a${rank}`);\r\n            if (rook && rook.moveHistory.length === 0) {\r\n                const emptySpaces = [\r\n                    state.positionLookup.get(`b${rank}`),\r\n                    state.positionLookup.get(`c${rank}`),\r\n                    state.positionLookup.get(`d${rank}`),\r\n                ];\r\n                if (!emptySpaces.some(s => s)) {\r\n                    const enemyPieces = state.activePieces.filter(p => p.player !== piece.player);\r\n                    const intermediateCellUnderAttack = enemyPieces.some(p =>\r\n                        p.possibleMoves.some(move => {\r\n                            const [{ to: [ targetFile, targetRank ]}] = move.movedPieces;\r\n                            return targetFile === 'd' && targetRank === rank;\r\n                        })\r\n                    );\r\n                    if (!intermediateCellUnderAttack) {\r\n                        piece.possibleMoves.push({\r\n                            movedPieces: [{\r\n                                piece,\r\n                                from: [piece.file, piece.rank],\r\n                                to: ['c', rank],\r\n                            }, {\r\n                                piece: rook,\r\n                                from: [rook.file, rook.rank],\r\n                                to: ['d', rank],\r\n                            }],\r\n                            capturedPieces: [],\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        },\r\n    }\r\n];\r\n\r\n// // TODO: Move somewhere else\r\nconst makeUnion = <TBase>() => <TUnion extends TBase>(...values: TUnion[]) => {\r\n    Object.freeze(values);\r\n    const valueSet: Set<TBase> = new Set(values);\r\n\r\n    const guard = (value: TBase): value is TUnion => valueSet.has(value);\r\n\r\n    const unionNamespace = { guard, values };\r\n    return Object.freeze(unionNamespace as UnionType<TBase, TUnion>);\r\n};\r\n\r\ninterface UnionType<TBase, TUnion extends TBase> {\r\n    values: TUnion[];\r\n    guard: (value: TBase) => value is TUnion;\r\n    type: TUnion;\r\n}\r\n\r\nexport const Player = makeUnion<string>()('white', 'black');\r\nexport type Player = typeof Player.type; // eslint-disable-line\r\n\r\nexport const File = makeUnion<string>()('a', 'b', 'c', 'd', 'e', 'f', 'g', 'h');\r\nexport type File = typeof File.type; // eslint-disable-line\r\n\r\nexport const Rank = makeUnion<number>()(1, 2, 3, 4, 5, 6, 7, 8);\r\nexport type Rank = typeof Rank.type; // eslint-disable-line\r\n\r\nexport const offsetFile = (file: File, amount: number) =>\r\n    match<[File, number], File | undefined>([file, amount])\r\n    .with(['a', 0], ['b', -1], ['c', -2], ['d', -3], ['e', -4], ['f', -5], ['g', -6], ['h', -7], () => 'a')\r\n    .with(['a', 1], ['b', 0], ['c', -1], ['d', -2], ['e', -3], ['f', -4], ['g', -5], ['h', -6], () => 'b')\r\n    .with(['a', 2], ['b', 1], ['c', 0], ['d', -1], ['e', -2], ['f', -3], ['g', -4], ['h', -5], () => 'c')\r\n    .with(['a', 3], ['b', 2], ['c', 1], ['d', 0], ['e', -1], ['f', -2], ['g', -3], ['h', -4], () => 'd')\r\n    .with(['a', 4], ['b', 3], ['c', 2], ['d', 1], ['e', 0], ['f', -1], ['g', -2], ['h', -3], () => 'e')\r\n    .with(['a', 5], ['b', 4], ['c', 3], ['d', 2], ['e', 1], ['f', 0], ['g', -1], ['h', -2], () => 'f')\r\n    .with(['a', 6], ['b', 5], ['c', 4], ['d', 3], ['e', 2], ['f', 1], ['g', 0], ['h', -1], () => 'g')\r\n    .with(['a', 7], ['b', 6], ['c', 5], ['d', 4], ['e', 3], ['f', 2], ['g', 1], ['h', 0], () => 'h')\r\n    .otherwise(() => undefined);\r\n\r\nexport const offsetRank = (rank: Rank, amount: number) =>\r\n    Rank.guard(rank + amount) ? rank + amount as Rank : undefined;\r\n\r\nexport const fileDifference = (a: File, b: File) =>\r\n    match<[File, File], number>([a, b])\r\n    .with(['a', 'b'], ['b', 'c'], ['c', 'd'], ['d', 'e'], ['e', 'f'], ['f', 'g'], ['g', 'h'], () => 1)\r\n    .with(['a', 'c'], ['b', 'd'], ['c', 'e'], ['d', 'f'], ['e', 'g'], ['f', 'h'], () => 2)\r\n    .with(['a', 'd'], ['b', 'e'], ['c', 'f'], ['d', 'g'], ['e', 'h'], () => 3)\r\n    .with(['a', 'e'], ['b', 'f'], ['c', 'g'], ['d', 'h'], () => 4)\r\n    .with(['a', 'f'], ['b', 'g'], ['c', 'h'], () => 5)\r\n    .with(['a', 'g'], ['b', 'h'], () => 6)\r\n    .with(['a', 'h'], () => 7)\r\n    .with(['h', 'g'], ['g', 'f'], ['f', 'e'], ['e', 'd'], ['d', 'c'], ['c', 'b'], ['b', 'a'], () => -1)\r\n    .with(['h', 'f'], ['g', 'e'], ['f', 'd'], ['e', 'c'], ['d', 'b'], ['c', 'a'], () => -2)\r\n    .with(['h', 'e'], ['g', 'd'], ['f', 'c'], ['e', 'b'], ['d', 'a'], () => -3)\r\n    .with(['h', 'd'], ['g', 'c'], ['f', 'b'], ['e', 'a'], () => -4)\r\n    .with(['h', 'c'], ['g', 'b'], ['f', 'a'], () => -5)\r\n    .with(['h', 'b'], ['g', 'a'], () => -6)\r\n    .with(['h', 'a'], () => -7)\r\n    .otherwise(() => 0);\r\n\r\nexport const rankDifference = (a: Rank, b: Rank) => b - a;\r\n\r\nconst RayCastDirection = makeUnion<number>()(-1, 0, 1);\r\ntype RayCastDirection = typeof RayCastDirection.type; // eslint-disable-line\r\n\r\nexport interface GameState {\r\n    activePieces: ActiveGamePiece[];\r\n    capturedPieces: ActiveGamePiece[];\r\n    positionLookup: Map<string, ActiveGamePiece>;\r\n    history: PieceMovement[];\r\n    player: PlayerToggle;\r\n}\r\n\r\nexport interface SubPieceMovement {\r\n    piece: ActiveGamePiece;\r\n    from: [File, Rank];\r\n    to: [File, Rank];\r\n}\r\n\r\nexport interface PieceMovement {\r\n    movedPieces: SubPieceMovement[];\r\n    capturedPieces: ActiveGamePiece[];\r\n}\r\n\r\n// TODO: Make another one of these that is more general to affect the whole game?\r\n// Like, to activate the check state. They can run after all piece rules\r\n// and can modify the possible moves further. I think I will try that, but\r\n// I want to get the pieces moving normally first again.\r\nexport interface GameRule {\r\n    name: string;\r\n    pieceType: string;\r\n    apply: (piece: ActiveGamePiece, state: GameState) => void;\r\n}\r\n\r\ninterface PlayerToggle {\r\n    getCurrent: () => Player;\r\n    toggle: () => void;\r\n}\r\n\r\nconst makePlayerToggle = (): PlayerToggle => {\r\n    let [current, other] = ['white', 'black'] as [Player, Player];\r\n    return {\r\n        getCurrent: () => current,\r\n        toggle: () => {\r\n            [current, other] = [other, current];\r\n        },\r\n    };\r\n};\r\n\r\nexport const beginGame = (pieces?: GamePiece[], rules?: GameRule[], includeStandardPiecesAndRules = true) => {\r\n    const state: GameState = {\r\n        activePieces: (includeStandardPiecesAndRules ? standardInitialState : []).concat(pieces ?? []).map(p => ({ ...p, possibleMoves: [], moveHistory: [] })),\r\n        capturedPieces: [],\r\n        positionLookup: new Map<string, ActiveGamePiece>(),\r\n        history: [],\r\n        player: makePlayerToggle(),\r\n    };\r\n\r\n    const allRules = Object.freeze((includeStandardPiecesAndRules ? standardRules : []).concat(rules ?? []));\r\n\r\n    const analyzeNewState = () => {\r\n        state.positionLookup.clear();\r\n        state.activePieces.forEach(piece => {\r\n            state.positionLookup.set(`${piece.file}${piece.rank}`, piece);\r\n            piece.possibleMoves = [];\r\n        });\r\n\r\n        allRules.forEach(({ pieceType, apply }) => state.activePieces.filter(p => p.type === pieceType).forEach(piece => apply(piece, state)));\r\n    };\r\n\r\n    analyzeNewState();\r\n\r\n    const game: ChessGame = {\r\n        // state\r\n        getPlayerTurn: () => state.player.getCurrent(),\r\n        getCapturedPieces: () => Object.freeze([...state.capturedPieces]),\r\n        getPieceTypeAtPosition: (file, rank) => {\r\n            const piece = state.positionLookup.get(`${file}${rank}`);\r\n\r\n            return piece && [piece.type, piece.player];\r\n        },\r\n        getPossibleMovesAtPosition: (file, rank) => {\r\n            const piece = state.positionLookup.get(`${file}${rank}`);\r\n            if (!piece || piece.player !== state.player.getCurrent()) return [];\r\n            return Object.freeze([...piece.possibleMoves]);\r\n        },\r\n        movePiece: (fromFile, fromRank, toFile, toRank) => {\r\n            const piece = state.positionLookup.get(`${fromFile}${fromRank}`);\r\n            if (!piece) return false;\r\n\r\n            const movement = piece.possibleMoves.find(move => move.movedPieces[0].piece === piece && move.movedPieces[0].to[0] === toFile && move.movedPieces[0].to[1] === toRank);\r\n            if (!movement) return false;\r\n\r\n            movement.movedPieces.forEach(({ piece, to: [file, rank]}) => {\r\n                piece.file = file;\r\n                piece.rank = rank;\r\n            });\r\n\r\n            movement.capturedPieces.forEach(piece => {\r\n                state.activePieces.splice(state.activePieces.indexOf(piece), 1);\r\n                state.capturedPieces.push(piece);\r\n            });\r\n\r\n            state.history.push(movement);\r\n            piece.moveHistory.push(movement);\r\n            state.player.toggle();\r\n\r\n            analyzeNewState();\r\n            return true;\r\n        },\r\n        undo: () => {\r\n            const lastMovement = state.history.pop();\r\n            if (!lastMovement) return false;\r\n\r\n            lastMovement.capturedPieces.forEach(piece => {\r\n                state.capturedPieces.splice(state.capturedPieces.indexOf(piece), 1);\r\n                state.activePieces.push(piece);\r\n            });\r\n\r\n            lastMovement.movedPieces.forEach(({ piece, from: [file, rank] }, i) => {\r\n                if (i === 0) piece.moveHistory.pop();\r\n                piece.file = file;\r\n                piece.rank = rank;\r\n            });\r\n\r\n            state.player.toggle();\r\n\r\n            analyzeNewState();\r\n            return true;\r\n        },\r\n    };\r\n\r\n    return game;\r\n};\r\n\r\nexport interface GamePiece {\r\n    type: string;\r\n    file: File;\r\n    rank: Rank;\r\n    player: Player;\r\n}\r\n\r\nexport interface ActiveGamePiece extends GamePiece {\r\n    possibleMoves: PieceMovement[];\r\n    moveHistory: PieceMovement[];\r\n}\r\n\r\nexport interface ChessGame {\r\n    getPlayerTurn: () => Player;\r\n    getCapturedPieces: () => readonly GamePiece[];\r\n    getPieceTypeAtPosition: (file: File, rank: Rank) => [string, Player] | undefined;\r\n    getPossibleMovesAtPosition: (file: File, rank: Rank) => readonly PieceMovement[];\r\n    movePiece: (fromFile: File, fromRank: Rank, toFile: File, toRank: Rank) => boolean;\r\n    undo: () => boolean;\r\n}\r\n\r\nconst rayCast = (state: GameState, [file, rank]: [File, Rank], [x, y]: [RayCastDirection, RayCastDirection], length?: number) => {\r\n    length = length ?? 8;\r\n    const validSpaces: [File, Rank, ActiveGamePiece | undefined][] = [];\r\n\r\n    let nextFile = offsetFile(file, x);\r\n    let nextRank = offsetRank(rank, y);\r\n    let piece = state.positionLookup.get(`${nextFile}${nextRank}`);\r\n    let count = 0;\r\n    while (nextFile && nextRank && count < length) {\r\n        validSpaces.push([nextFile, nextRank, piece]);\r\n        if (piece) break;\r\n\r\n        nextFile = offsetFile(nextFile, x);\r\n        nextRank = offsetRank(nextRank, y);\r\n        piece = state.positionLookup.get(`${nextFile}${nextRank}`);\r\n        count++;\r\n    }\r\n\r\n    return validSpaces;\r\n};\r\n\r\nconst multiRayCast = (piece: ActiveGamePiece, state: GameState, ...rays: [RayCastDirection, RayCastDirection, number | undefined][]) =>\r\n    flattenArray(rays.map(([x, y, length]) =>\r\n        rayCast(state, [piece.file, piece.rank], [x, y], length)\r\n        .map<PieceMovement | undefined>(([file, rank, otherPiece]) => {\r\n            if (otherPiece?.player === piece.player) return undefined;\r\n\r\n            return {\r\n                movedPieces: [{ from: [piece.file, piece.rank], to: [file, rank], piece }],\r\n                capturedPieces: otherPiece ? [otherPiece] : [],\r\n            };\r\n        })\r\n        .filter((result): result is PieceMovement => typeof result !== 'undefined')));","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n});\n\nfunction SvgBb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      opacity: 1,\n      fill: \"none\",\n      fillRule: \"evenodd\",\n      fillOpacity: 1,\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"#000000\",\n      stroke: \"#000000\",\n      strokeLinecap: \"butt\"\n    }\n  }, _ref2, _ref3, _ref4), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\",\n      strokeLinejoin: \"miter\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBb);\nexport default __webpack_public_path__ + \"static/media/bb.449449f5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBk(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      fillOpacity: 1,\n      fillRule: \"evenodd\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 22.5,11.63 L 22.5,6\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeLinejoin: \"miter\"\n    },\n    id: \"path6570\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n    style: {\n      fill: \"#000000\",\n      fillOpacity: 1,\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n    style: {\n      fill: \"#000000\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 20,8 L 25,8\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBk);\nexport default __webpack_public_path__ + \"static/media/bk.7b0ec39d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBn(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      opacity: 1,\n      fill: \"none\",\n      fillOpacity: 1,\n      fillRule: \"evenodd\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n    style: {\n      fill: \"#000000\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n    style: {\n      fill: \"#000000\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#ffffff\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n    transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#ffffff\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \",\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"none\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBn);\nexport default __webpack_public_path__ + \"static/media/bn.7f7afa43.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n    style: {\n      opacity: 1,\n      fill: \"#000000\",\n      fillOpacity: 1,\n      fillRule: \"nonzero\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"miter\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBp);\nexport default __webpack_public_path__ + \"static/media/bp.a9d9baf8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 11.5,30 C 15,29 30,29 33.5,30\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m 12,33.5 c 6,-1 15,-1 21,0\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 6,\n  cy: 12,\n  r: 2\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 14,\n  cy: 9,\n  r: 2\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 22.5,\n  cy: 8,\n  r: 2\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 31,\n  cy: 9,\n  r: 2\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 39,\n  cy: 12,\n  r: 2\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 11,29 A 35,35 1 0 1 34,29\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 12.5,31.5 L 32.5,31.5\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"\n});\n\nfunction SvgBq(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"#000000\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\",\n    style: {\n      strokeLinecap: \"butt\",\n      fill: \"#000000\"\n    }\n  }), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 11,38.5 A 35,35 1 0 0 34,38.5\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\"\n    }\n  }, _ref10, _ref11, _ref12, _ref13)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBq);\nexport default __webpack_public_path__ + \"static/media/bq.bb3d1394.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBr(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      opacity: 1,\n      fill: \"#000000\",\n      fillOpacity: 1,\n      fillRule: \"evenodd\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \",\n    style: {\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12,35.5 L 33,35.5 L 33,35.5\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\",\n      strokeWidth: 1,\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 13,31.5 L 32,31.5\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\",\n      strokeWidth: 1,\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 14,29.5 L 31,29.5\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\",\n      strokeWidth: 1,\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 14,16.5 L 31,16.5\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\",\n      strokeWidth: 1,\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 11,14 L 34,14\",\n    style: {\n      fill: \"none\",\n      stroke: \"#ffffff\",\n      strokeWidth: 1,\n      strokeLinejoin: \"miter\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBr);\nexport default __webpack_public_path__ + \"static/media/br.ab78ac18.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n});\n\nfunction SvgWb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      opacity: 1,\n      fill: \"none\",\n      fillRule: \"evenodd\",\n      fillOpacity: 1,\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#000000\",\n      strokeLinecap: \"butt\"\n    }\n  }, _ref2, _ref3, _ref4), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeLinejoin: \"miter\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWb);\nexport default __webpack_public_path__ + \"static/media/wb.2c90fc14.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWk(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      fillOpacity: 1,\n      fillRule: \"evenodd\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 22.5,11.63 L 22.5,6\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 20,8 L 25,8\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#000000\",\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12.5,30 C 18,27 27,27 32.5,30\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12.5,37 C 18,34 27,34 32.5,37\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWk);\nexport default __webpack_public_path__ + \"static/media/wk.57496242.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWn(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      opacity: 1,\n      fill: \"none\",\n      fillOpacity: 1,\n      fillRule: \"evenodd\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n    style: {\n      fill: \"#000000\",\n      stroke: \"#000000\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n    transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n    style: {\n      fill: \"#000000\",\n      stroke: \"#000000\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWn);\nexport default __webpack_public_path__ + \"static/media/wn.9b0fd412.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n    style: {\n      opacity: 1,\n      fill: \"#ffffff\",\n      fillOpacity: 1,\n      fillRule: \"nonzero\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"miter\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWp);\nexport default __webpack_public_path__ + \"static/media/wp.7adfa00c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 6,\n  cy: 12,\n  r: 2\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 14,\n  cy: 9,\n  r: 2\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 22.5,\n  cy: 8,\n  r: 2\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 31,\n  cy: 9,\n  r: 2\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 39,\n  cy: 12,\n  r: 2\n});\n\nfunction SvgWq(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"#ffffff\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinejoin: \"round\"\n    }\n  }, _ref2, _ref3, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 11.5,30 C 15,29 30,29 33.5,30\",\n    style: {\n      fill: \"none\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12,33.5 C 18,32.5 27,32.5 33,33.5\",\n    style: {\n      fill: \"none\"\n    }\n  }), _ref4, _ref5, _ref6, _ref7, _ref8));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWq);\nexport default __webpack_public_path__ + \"static/media/wq.31b72c7f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 34,14 L 31,17 L 14,17 L 11,14\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"\n});\n\nfunction SvgWr(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 45 45\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      opacity: 1,\n      fill: \"#ffffff\",\n      fillOpacity: 1,\n      fillRule: \"evenodd\",\n      stroke: \"#000000\",\n      strokeWidth: 1.5,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\",\n    style: {\n      strokeLinecap: \"butt\"\n    }\n  }), _ref2, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 31,17 L 31,29.5 L 14,29.5 L 14,17\",\n    style: {\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\"\n    }\n  }), _ref3, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 11,14 L 34,14\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeLinejoin: \"miter\"\n    }\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWr);\nexport default __webpack_public_path__ + \"static/media/wr.67f224ef.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useMemo, useCallback, CSSProperties } from 'react';\r\nimport { Player, File, Rank, beginGame, fileDifference, rankDifference } from '../chess/game';\r\nimport { ReactComponent as BlackBishop } from '../svg/bb.svg';\r\nimport { ReactComponent as BlackKing } from '../svg/bk.svg';\r\nimport { ReactComponent as BlackKnight } from '../svg/bn.svg';\r\nimport { ReactComponent as BlackPawn } from '../svg/bp.svg';\r\nimport { ReactComponent as BlackQueen } from '../svg/bq.svg';\r\nimport { ReactComponent as BlackRook } from '../svg/br.svg';\r\nimport { ReactComponent as WhiteBishop } from '../svg/wb.svg';\r\nimport { ReactComponent as WhiteKing } from '../svg/wk.svg';\r\nimport { ReactComponent as WhiteKnight } from '../svg/wn.svg';\r\nimport { ReactComponent as WhitePawn } from '../svg/wp.svg';\r\nimport { ReactComponent as WhiteQueen } from '../svg/wq.svg';\r\nimport { ReactComponent as WhiteRook } from '../svg/wr.svg';\r\n\r\nexport const useRenderTrigger = () => {\r\n    const [,setDummy] = useState(0);\r\n\r\n    return () => setDummy(val => val + 1);\r\n};\r\n\r\nconst standardPieceSvg: Record<string, [typeof WhiteKing, typeof WhiteKing]> = {\r\n    'pawn': [WhitePawn, BlackPawn],\r\n    'rook': [WhiteRook, BlackRook],\r\n    'knight': [WhiteKnight, BlackKnight],\r\n    'bishop': [WhiteBishop, BlackBishop],\r\n    'queen': [WhiteQueen, BlackQueen],\r\n    'king': [WhiteKing, BlackKing],\r\n};\r\n\r\ninterface PieceProperties {\r\n    key?: string | number;\r\n    style?: CSSProperties;\r\n}\r\n\r\nconst getPieceRenderer = (svg: Record<string, [typeof WhiteKing, typeof WhiteKing]>) =>\r\n    (type: string, player: Player, props?: PieceProperties) => {\r\n        const Svg: typeof WhiteKing | undefined = svg[type] && svg[type][player === 'white' ? 0 : 1];\r\n        if (!Svg) return null;\r\n\r\n        return <Svg key={props?.key} style={props?.style} />;\r\n    };\r\n\r\nconst renderStandardPiece = getPieceRenderer(standardPieceSvg);\r\n\r\nconst numericFileLookup: Record<File, number> = { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6, g: 7, h: 8 };\r\n\r\nexport const useChessGame: () => ChessHook = () => {\r\n    const game = useMemo(() => beginGame(), []);\r\n    const renderPiece = useCallback(renderStandardPiece, []);\r\n    const [selectedPosition, setSelectedPosition] = useState<[File, Rank]>();\r\n    const [backgroundOverrides, setBackgroundOverrides] = useState<[File, Rank, string][]>([]);\r\n    const [turnNumber, setTurnNumber] = useState(1);\r\n\r\n    const hook: ChessHook = {\r\n        getPositionProperties: (file, rank, rotationOffset) => {\r\n            const backgroundColor = backgroundOverrides.find(([f, r]) => f === file && r === rank)?.[2] ??\r\n                ((numericFileLookup[file] + rank) % 2 === 0 ? 'brown' : 'beige');\r\n                \r\n            const piece = game.getPieceTypeAtPosition(file, rank);\r\n            let renderedPiece = piece ? renderPiece(...piece) : null\r\n\r\n            if (selectedPosition && selectedPosition[0] === file && selectedPosition[1] === rank) {\r\n                const movements = game.getPossibleMovesAtPosition(file, rank);\r\n                renderedPiece = (\r\n                    <>\r\n                        {renderedPiece}\r\n                        {movements.map((movement, i) => (\r\n                            <ArrowPrototype\r\n                                key={i}\r\n                                from={movement.movedPieces[0].from}\r\n                                to={movement.movedPieces[0].to}\r\n                                rotationOffset={rotationOffset ?? 0}\r\n                            />\r\n                        ))}\r\n                    </>\r\n                );\r\n            }\r\n\r\n            return {\r\n                backgroundColor,\r\n                renderedPiece,\r\n            };\r\n        },\r\n\r\n        selectPosition: (file, rank) => {\r\n            if (selectedPosition) {\r\n                if (game.movePiece(...selectedPosition, file, rank)) setTurnNumber(turnNumber + 1);\r\n                setSelectedPosition(undefined);\r\n                setBackgroundOverrides([]);\r\n            } else {\r\n                const piece = game.getPieceTypeAtPosition(file, rank);\r\n                if (!piece || piece[1] !== game.getPlayerTurn()) return;\r\n\r\n                const movements = game.getPossibleMovesAtPosition(file, rank);\r\n                if (movements.length === 0) return;\r\n\r\n                const underAttack: [File, Rank, string][] = [];\r\n                const selectedPieceDestinations: [File, Rank, string][] = [];\r\n\r\n                movements.forEach(movement => {\r\n                    underAttack.push(...movement.capturedPieces.map<[File, Rank, string]>(p => [p.file, p.rank, 'red']));\r\n\r\n                    const [primary] = movement.movedPieces;\r\n                    selectedPieceDestinations.push([...primary.to, 'cyan']);\r\n                });\r\n\r\n                setSelectedPosition([file, rank]);\r\n                setBackgroundOverrides([[file, rank, 'green'], ...underAttack, ...selectedPieceDestinations]);\r\n            }\r\n        },\r\n        undo: () => {\r\n            if (game.undo()) setTurnNumber(turnNumber - 1);\r\n        },\r\n        renderCaptures: player => {\r\n            const capturedPieces = player ?\r\n                game.getCapturedPieces().filter(p => p.player === player) :\r\n                game.getCapturedPieces();\r\n\r\n            return (\r\n                <>\r\n                    {capturedPieces.map(({ type, player }, i) => renderPiece(type, player, { key: i, style: { width: 'var(--cell-width)', height: 'var(--cell-width)' }}))}\r\n                </>\r\n            );\r\n        },\r\n        turnNumber,\r\n        playerTurn: game.getPlayerTurn(),\r\n    };\r\n\r\n    return hook;\r\n};\r\n\r\nconst ArrowPrototype: React.FC<ArrowPrototypeProperties> = props => {\r\n    const dx = fileDifference(props.from[0], props.to[0]);\r\n    const dy = rankDifference(props.from[1], props.to[1]);\r\n    const length = Math.sqrt(dx*dx + dy*dy);\r\n    const angle = -Math.atan2(dy, dx) + props.rotationOffset;\r\n\r\n    return (\r\n        <div\r\n            className=\"Arrow\"\r\n            style={{\r\n                width: `calc((${length} * var(--cell-width)) - 2rem)`,\r\n                transform: `rotate(${angle}rad)`,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\ninterface ArrowPrototypeProperties {\r\n    from: [File, Rank];\r\n    to: [File, Rank];\r\n    rotationOffset: number;\r\n}\r\n\r\n// export const useCustomChessGame = <TCustom extends CustomPieceType>(pieces: Record<TCustom, PieceMoveCalculator<TCustom>>, svg: Record<TCustom, [string, string]>, initialState: BoardState<StandardPieceType | TCustom>) => {\r\n//     const game = useMemo(() => withCustomPieces(pieces).beginGame(initialState), []);\r\n//     const triggerRender = useRenderTrigger();\r\n//     const renderPiece = useCallback((type: StandardPieceType | TCustom, player: Player) => {\r\n//         const renderCustomPiece = getPieceRenderer(svg);\r\n//         if (StandardPieceType.guard(type)) return renderStandardPiece(type, player);\r\n//         else return renderCustomPiece(type, player);\r\n//     }, []);\r\n\r\n//     const hook: ChessHook = {\r\n//         getPiece: useCallback((file, rank) => game.getPiece(file, rank), []),\r\n\r\n//         renderPiece: useCallback((file, rank) => {\r\n//             const piece = game.getPiece(file, rank);\r\n//             if (piece) {\r\n//                 const { type, player } = piece;\r\n//                 return renderPiece(type, player);\r\n//             } else return null;\r\n//         }, []),\r\n\r\n//         movePiece: useCallback((from, to) => {\r\n//             game.movePiece(from, to);\r\n//             triggerRender();\r\n//         }, []),\r\n\r\n//         undo: useCallback(() => {\r\n//             game.undo();\r\n//             triggerRender();\r\n//         }, []),\r\n\r\n//         pieces: game.pieces.map(({ file, rank, type, player }) => ({ file, rank, render: () => renderPiece(type, player) })),\r\n//         capturedPieces: game.capturedPieces.map(({ file, rank, type, player }) => ({ file, rank, render: () => renderPiece(type, player) })),\r\n//     };\r\n\r\n//     return hook;\r\n// };\r\n\r\nexport interface ChessHook {\r\n    getPositionProperties: (file: File, rank: Rank, arrowRotationOffset?: number) => PositionProperties;\r\n    selectPosition: (file: File, rank: Rank) => void;\r\n    undo: () => void;\r\n    renderCaptures: (player?: Player) => JSX.Element;\r\n    turnNumber: number;\r\n    playerTurn: Player;\r\n}\r\n\r\nexport interface PositionProperties {\r\n    backgroundColor: string;\r\n    renderedPiece: JSX.Element | null;\r\n}","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport { Player } from './chess/game';\r\nimport ChessBoard from './components/ChessBoard';\r\nimport { useChessGame } from './utils/hooks';\r\n\r\nconst App = () => {\r\n    const chessGame = useChessGame();\r\n    const [perspective, setPerspective] = useState<Player | 'turn'>('turn');\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <div className=\"App__Info\">\r\n                <h3>Turn: {chessGame.playerTurn}</h3>\r\n                <label htmlFor=\"perspectiveEnabled\">\r\n                    Player Perspective:&nbsp;\r\n                    <select id=\"perspectiveEnabled\" value={perspective} onChange={e => setPerspective(e.target.value as Player | 'turn')}>\r\n                        <option value=\"turn\">Turn</option>\r\n                        <option value=\"white\">White</option>\r\n                        <option value=\"black\">Black</option>\r\n                    </select>\r\n                </label>\r\n\r\n                <button onClick={chessGame.undo}>Undo</button>\r\n            </div>\r\n            <ChessBoard\r\n                onCellClick={chessGame.selectPosition}\r\n                chessGame={chessGame}\r\n                perspective={perspective === 'turn' ? chessGame.playerTurn : perspective}\r\n            />\r\n            <div\r\n                style={{ display: 'flex', justifyContent: 'space-between', width: 'var(--grid-width)' }}\r\n            >\r\n                <div style={{ width: '50%', display: 'flex' }}>{chessGame.renderCaptures('black')}</div>\r\n                <div style={{ width: '50%', display: 'flex', flexDirection: 'row-reverse' }}>{chessGame.renderCaptures('white')}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}