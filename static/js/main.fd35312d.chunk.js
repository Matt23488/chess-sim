(this["webpackJsonpchess-sim"]=this["webpackJsonpchess-sim"]||[]).push([[0],{17:function(e,t,r){},18:function(e,t,r){},19:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),o=r(12),a=r.n(o),l=(r(17),r(2)),c=(r(18),r(19),r(1)),f=new Map([[0,8],[1,7],[2,6],[3,5],[4,4],[5,3],[6,2],[7,1]]),s=new Map([[0,"a"],[1,"b"],[2,"c"],[3,"d"],[4,"e"],[5,"f"],[6,"g"],[7,"h"]]),p=function(e){var t=Object(n.useMemo)((function(){return Array(64).fill(0).map((function(e,t){var r=t%8,n=Math.floor(t/8);return[s.get(r),f.get(n),r,n]}))}),[]);return Object(c.jsxs)("div",{className:"ChessBoard ChessBoard__Perspective".concat(e.perspective),children:[Array(8).fill(0).map((function(e,t){return Object(c.jsx)("div",{className:"ChessBoard__Cell ChessBoard__RankIndicator ChessBoard__Rank".concat(f.get(t)),children:f.get(t)},"ri".concat(t))})),Array(8).fill(0).map((function(e,t){var r;return Object(c.jsx)("div",{className:"ChessBoard__Cell ChessBoard__FileIndicator ChessBoard__File".concat(null===(r=s.get(t))||void 0===r?void 0:r.toUpperCase()),children:s.get(t)},"fi".concat(t))})),t.map((function(t){var r=Object(l.a)(t,2),n=r[0],i=r[1],o=e.chessGame.getPositionProperties(n,i,"white"===e.perspective?0:Math.PI);return Object(c.jsx)("div",{className:"ChessBoard__Cell ChessBoard__File".concat(n.toUpperCase()," ChessBoard__Rank").concat(i),style:{backgroundColor:o.backgroundColor},onClick:function(){return e.onCellClick(n,i)},onMouseOver:function(){return e.onCellMouseOver(n,i)},onMouseOut:function(){return e.onCellMouseOut(n,i)},children:o.renderedPiece},"".concat(n).concat(i))}))]})},u=r(3),y=r(4),d=r(8),h=Object.freeze([{type:"rook",file:"a",rank:1,player:"white"},{type:"knight",file:"b",rank:1,player:"white"},{type:"bishop",file:"c",rank:1,player:"white"},{type:"queen",file:"d",rank:1,player:"white"},{type:"king",file:"e",rank:1,player:"white"},{type:"bishop",file:"f",rank:1,player:"white"},{type:"knight",file:"g",rank:1,player:"white"},{type:"rook",file:"h",rank:1,player:"white"},{type:"pawn",file:"a",rank:2,player:"white"},{type:"pawn",file:"b",rank:2,player:"white"},{type:"pawn",file:"c",rank:2,player:"white"},{type:"pawn",file:"d",rank:2,player:"white"},{type:"pawn",file:"e",rank:2,player:"white"},{type:"pawn",file:"f",rank:2,player:"white"},{type:"pawn",file:"g",rank:2,player:"white"},{type:"pawn",file:"h",rank:2,player:"white"},{type:"rook",file:"a",rank:8,player:"black"},{type:"knight",file:"b",rank:8,player:"black"},{type:"bishop",file:"c",rank:8,player:"black"},{type:"queen",file:"d",rank:8,player:"black"},{type:"king",file:"e",rank:8,player:"black"},{type:"bishop",file:"f",rank:8,player:"black"},{type:"knight",file:"g",rank:8,player:"black"},{type:"rook",file:"h",rank:8,player:"black"},{type:"pawn",file:"a",rank:7,player:"black"},{type:"pawn",file:"b",rank:7,player:"black"},{type:"pawn",file:"c",rank:7,player:"black"},{type:"pawn",file:"d",rank:7,player:"black"},{type:"pawn",file:"e",rank:7,player:"black"},{type:"pawn",file:"f",rank:7,player:"black"},{type:"pawn",file:"g",rank:7,player:"black"},{type:"pawn",file:"h",rank:7,player:"black"}]),v=function(e){return[].concat.apply([],e)},b=[{name:"Pawn Quick Start",pieceType:"pawn",apply:function(e,t){if(!(e.moveHistory.length>0)){var r=j(t,[e.file,e.rank],[0,"white"===e.player?1:-1],2);if(2===r.length){var n=Object(l.a)(r,2),i=Object(l.a)(n[1],2),o=i[0],a=i[1];e.possibleMoves.push({movedPieces:[{piece:e,from:[e.file,e.rank],to:[o,a]}],capturedPieces:[]})}}}},{name:"Pawn Standard Movement",pieceType:"pawn",apply:function(e,t){var r="white"===e.player?7:1;if(e.rank!==r){var n=O(e.rank,"white"===e.player?1:-1);t.positionLookup.get("".concat(e.file).concat(n))||e.possibleMoves.push({movedPieces:[{piece:e,from:[e.file,e.rank],to:[e.file,n]}],capturedPieces:[]})}}},{name:"Pawn Standard Capture",pieceType:"pawn",apply:function(e,t){var r=O(e.rank,"white"===e.player?1:-1),n=[],i=g(e.file,-1);i&&n.push([i,r]),(i=g(e.file,1))&&n.push([i,r]),n.forEach((function(r){var n=Object(l.a)(r,2),i=n[0],o=n[1],a=t.positionLookup.get("".concat(i).concat(o));a&&a.player!==e.player&&e.possibleMoves.push({movedPieces:[{piece:e,from:[e.file,e.rank],to:[i,o]}],capturedPieces:[a]})}))}},{name:"Pawn En Passant Capture",pieceType:"pawn",apply:function(e,t){var r="white"===e.player?5:4;if(e.rank===r){var n=[],i=g(e.file,-1);i&&n.push([i,r]),(i=g(e.file,1))&&n.push([i,r]),n.forEach((function(r){var n=Object(l.a)(r,2),i=n[0],o=n[1],a=t.positionLookup.get("".concat(i).concat(o));if(a&&1===a.moveHistory.length){var c=a.moveHistory[a.moveHistory.length-1],f=t.history[t.history.length-1];c===f&&(null===f||void 0===f?void 0:f.movedPieces[0].piece)===a&&e.possibleMoves.push({movedPieces:[{piece:e,from:[e.file,e.rank],to:[i,"white"===e.player?6:3]}],capturedPieces:[a]})}}))}}},{name:"Knight Standard Movement",pieceType:"knight",apply:function(e,t){[[g(e.file,-1),O(e.rank,2)],[g(e.file,1),O(e.rank,2)],[g(e.file,-2),O(e.rank,1)],[g(e.file,2),O(e.rank,1)],[g(e.file,-2),O(e.rank,-1)],[g(e.file,2),O(e.rank,-1)],[g(e.file,-1),O(e.rank,-2)],[g(e.file,1),O(e.rank,-2)]].filter((function(e){return!!e[0]&&!!e[1]})).forEach((function(r){var n=Object(l.a)(r,2),i=n[0],o=n[1],a=t.positionLookup.get("".concat(i).concat(o));a&&a.player===e.player||e.possibleMoves.push({movedPieces:[{piece:e,from:[e.file,e.rank],to:[i,o]}],capturedPieces:a?[a]:[]})}))}},{name:"Rook Standard Movement",pieceType:"rook",apply:function(e,t){var r;(r=e.possibleMoves).push.apply(r,Object(u.a)(L(e,t,[1,0,8],[-1,0,8],[0,1,8],[0,-1,8])))}},{name:"Bishop Standard Movement",pieceType:"bishop",apply:function(e,t){var r;(r=e.possibleMoves).push.apply(r,Object(u.a)(L(e,t,[1,1,8],[-1,1,8],[1,-1,8],[-1,-1,8])))}},{name:"Queen Standard Movement",pieceType:"queen",apply:function(e,t){var r;(r=e.possibleMoves).push.apply(r,Object(u.a)(L(e,t,[1,0,8],[-1,0,8],[0,1,8],[0,-1,8],[1,1,8],[-1,1,8],[1,-1,8],[-1,-1,8])))}},{name:"King Standard Movement",pieceType:"king",apply:function(e,t){var r;(r=e.possibleMoves).push.apply(r,Object(u.a)(L(e,t,[1,0,1],[-1,0,1],[0,1,1],[0,-1,1],[1,1,1],[-1,1,1],[1,-1,1],[-1,-1,1])))}},{name:"King Castle",pieceType:"king",apply:function(e,t){if(!(e.moveHistory.length>0)){var r="white"===e.player?1:8,n=t.positionLookup.get("h".concat(r));if(n&&0===n.moveHistory.length)if(![t.positionLookup.get("f".concat(r)),t.positionLookup.get("g".concat(r))].some((function(e){return e})))t.activePieces.filter((function(t){return t.player!==e.player})).some((function(e){return e.possibleMoves.some((function(e){var t=Object(l.a)(e.movedPieces,1),n=Object(l.a)(t[0].to,2),i=n[0],o=n[1];return"f"===i&&o===r}))}))||e.possibleMoves.push({movedPieces:[{piece:e,from:[e.file,e.rank],to:["g",r]},{piece:n,from:[n.file,n.rank],to:["f",r]}],capturedPieces:[]});if((n=t.positionLookup.get("a".concat(r)))&&0===n.moveHistory.length)if(![t.positionLookup.get("b".concat(r)),t.positionLookup.get("c".concat(r)),t.positionLookup.get("d".concat(r))].some((function(e){return e})))t.activePieces.filter((function(t){return t.player!==e.player})).some((function(e){return e.possibleMoves.some((function(e){var t=Object(l.a)(e.movedPieces,1),n=Object(l.a)(t[0].to,2),i=n[0],o=n[1];return"d"===i&&o===r}))}))||e.possibleMoves.push({movedPieces:[{piece:e,from:[e.file,e.rank],to:["c",r]},{piece:n,from:[n.file,n.rank],to:["d",r]}],capturedPieces:[]})}}}],m=function(){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Object.freeze(t);var n=new Set(t),i=function(e){return n.has(e)},o={guard:i,values:t};return Object.freeze(o)}},k=(m()("white","black"),m()("a","b","c","d","e","f","g","h"),m()(1,2,3,4,5,6,7,8)),g=function(e,t){return Object(d.match)([e,t]).with(["a",0],["b",-1],["c",-2],["d",-3],["e",-4],["f",-5],["g",-6],["h",-7],(function(){return"a"})).with(["a",1],["b",0],["c",-1],["d",-2],["e",-3],["f",-4],["g",-5],["h",-6],(function(){return"b"})).with(["a",2],["b",1],["c",0],["d",-1],["e",-2],["f",-3],["g",-4],["h",-5],(function(){return"c"})).with(["a",3],["b",2],["c",1],["d",0],["e",-1],["f",-2],["g",-3],["h",-4],(function(){return"d"})).with(["a",4],["b",3],["c",2],["d",1],["e",0],["f",-1],["g",-2],["h",-3],(function(){return"e"})).with(["a",5],["b",4],["c",3],["d",2],["e",1],["f",0],["g",-1],["h",-2],(function(){return"f"})).with(["a",6],["b",5],["c",4],["d",3],["e",2],["f",1],["g",0],["h",-1],(function(){return"g"})).with(["a",7],["b",6],["c",5],["d",4],["e",3],["f",2],["g",1],["h",0],(function(){return"h"})).otherwise((function(){}))},O=function(e,t){return k.guard(e+t)?e+t:void 0},w=(m()(-1,0,1),function(){var e=Object(l.a)(["white","black"],2),t=e[0],r=e[1];return{getCurrent:function(){return t},toggle:function(){var e=[r,t];t=e[0],r=e[1]}}}),j=function(e,t,r,n){var i,o=Object(l.a)(t,2),a=o[0],c=o[1],f=Object(l.a)(r,2),s=f[0],p=f[1];n=null!==(i=n)&&void 0!==i?i:8;for(var u=[],y=g(a,s),d=O(c,p),h=e.positionLookup.get("".concat(y).concat(d)),v=0;y&&d&&v<n&&(u.push([y,d,h]),!h);)y=g(y,s),d=O(d,p),h=e.positionLookup.get("".concat(y).concat(d)),v++;return u},L=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return v(n.map((function(r){var n=Object(l.a)(r,3),i=n[0],o=n[1],a=n[2];return j(t,[e.file,e.rank],[i,o],a).map((function(t){var r=Object(l.a)(t,3),n=r[0],i=r[1],o=r[2];if((null===o||void 0===o?void 0:o.player)!==e.player)return{movedPieces:[{from:[e.file,e.rank],to:[n,i],piece:e}],capturedPieces:o?[o]:[]}})).filter((function(e){return"undefined"!==typeof e}))})))};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var P=n.createElement("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),M=n.createElement("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),x=n.createElement("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"});function I(e,t){var r=e.title,i=e.titleId,o=E(e,["title","titleId"]);return n.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{opacity:1,fill:"none",fillRule:"evenodd",fillOpacity:1,stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("g",{style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},P,M,x),n.createElement("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})))}var S=n.forwardRef(I);r.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function B(e,t){var r=e.title,i=e.titleId,o=A(e,["title","titleId"]);return n.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{fill:"none",fillOpacity:1,fillRule:"evenodd",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),n.createElement("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:1,strokeLinecap:"butt",strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),n.createElement("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),n.createElement("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})))}var R=n.forwardRef(B);r.p;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function W(e,t){var r=e.title,i=e.titleId,o=_(e,["title","titleId"]);return n.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{opacity:1,fill:"none",fillOpacity:1,fillRule:"evenodd",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),n.createElement("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),n.createElement("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),n.createElement("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),n.createElement("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})))}var D=n.forwardRef(W);r.p;function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function N(e,t){var r=e.title,i=e.titleId,o=F(e,["title","titleId"]);return n.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:1,fill:"#000000",fillOpacity:1,fillRule:"nonzero",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}}))}var q=n.forwardRef(N);r.p;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var G=n.createElement("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),J=n.createElement("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),Q=n.createElement("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),V=n.createElement("circle",{cx:6,cy:12,r:2}),X=n.createElement("circle",{cx:14,cy:9,r:2}),Y=n.createElement("circle",{cx:22.5,cy:8,r:2}),Z=n.createElement("circle",{cx:31,cy:9,r:2}),$=n.createElement("circle",{cx:39,cy:12,r:2}),ee=n.createElement("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),te=n.createElement("path",{d:"M 12.5,31.5 L 32.5,31.5"}),re=n.createElement("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),ne=n.createElement("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"});function ie(e,t){var r=e.title,i=e.titleId,o=U(e,["title","titleId"]);return n.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{fill:"#000000",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}},n.createElement("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),G,J,Q,V,X,Y,Z,$,n.createElement("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),n.createElement("g",{style:{fill:"none",stroke:"#ffffff"}},ee,te,re,ne)))}var oe=n.forwardRef(ie);r.p;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ce(e,t){var r=e.title,i=e.titleId,o=le(e,["title","titleId"]);return n.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{opacity:1,fill:"#000000",fillOpacity:1,fillRule:"evenodd",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),n.createElement("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),n.createElement("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),n.createElement("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),n.createElement("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),n.createElement("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:1,strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:1,strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:1,strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:1,strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:1,strokeLinejoin:"miter"}})))}var fe=n.forwardRef(ce);r.p;function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ue=n.createElement("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),ye=n.createElement("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),de=n.createElement("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"});function he(e,t){var r=e.title,i=e.titleId,o=pe(e,["title","titleId"]);return n.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{opacity:1,fill:"none",fillRule:"evenodd",fillOpacity:1,stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("g",{style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},ue,ye,de),n.createElement("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})))}var ve=n.forwardRef(he);r.p;function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ke(e,t){var r=e.title,i=e.titleId,o=me(e,["title","titleId"]);return n.createElement("svg",be({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{fill:"none",fillOpacity:1,fillRule:"evenodd",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),n.createElement("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),n.createElement("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),n.createElement("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),n.createElement("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})))}var ge=n.forwardRef(ke);r.p;function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function je(e,t){var r=e.title,i=e.titleId,o=we(e,["title","titleId"]);return n.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{opacity:1,fill:"none",fillOpacity:1,fillRule:"evenodd",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),n.createElement("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),n.createElement("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),n.createElement("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})))}var Le=n.forwardRef(je);r.p;function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pe(e,t){var r=e.title,i=e.titleId,o=Ee(e,["title","titleId"]);return n.createElement("svg",Ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:1,fill:"#ffffff",fillOpacity:1,fillRule:"nonzero",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}}))}var Me=n.forwardRef(Pe);r.p;function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Se=n.createElement("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),ze=n.createElement("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),Ae=n.createElement("circle",{cx:6,cy:12,r:2}),Be=n.createElement("circle",{cx:14,cy:9,r:2}),Re=n.createElement("circle",{cx:22.5,cy:8,r:2}),Te=n.createElement("circle",{cx:31,cy:9,r:2}),_e=n.createElement("circle",{cx:39,cy:12,r:2});function We(e,t){var r=e.title,i=e.titleId,o=Ie(e,["title","titleId"]);return n.createElement("svg",xe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{fill:"#ffffff",stroke:"#000000",strokeWidth:1.5,strokeLinejoin:"round"}},Se,ze,n.createElement("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),n.createElement("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),Ae,Be,Re,Te,_e))}var De=n.forwardRef(We);r.p;function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ne=n.createElement("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),qe=n.createElement("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"});function Ke(e,t){var r=e.title,i=e.titleId,o=Fe(e,["title","titleId"]);return n.createElement("svg",He({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45 45",ref:t,"aria-labelledby":i},o),r?n.createElement("title",{id:i},r):null,n.createElement("g",{style:{opacity:1,fill:"#ffffff",fillOpacity:1,fillRule:"evenodd",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},n.createElement("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),n.createElement("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),n.createElement("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),Ne,n.createElement("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),qe,n.createElement("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})))}var Ue=n.forwardRef(Ke),Ge=(r.p,{pawn:[Me,q],rook:[Ue,fe],knight:[Le,D],bishop:[ve,S],queen:[De,oe],king:[ge,R]}),Je={a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8},Qe=function(e,t,r){var i,o=Object(n.useMemo)((function(){return function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={activePieces:(r?h:[]).concat(null!==e&&void 0!==e?e:[]).map((function(e){return Object(y.a)(Object(y.a)({},e),{},{possibleMoves:[],moveHistory:[]})})),capturedPieces:[],positionLookup:new Map,history:[],player:w()},i=Object.freeze((r?b:[]).concat(null!==t&&void 0!==t?t:[])),o=function(){n.positionLookup.clear(),n.activePieces.forEach((function(e){n.positionLookup.set("".concat(e.file).concat(e.rank),e),e.possibleMoves=[]})),i.forEach((function(e){var t=e.pieceType,r=e.apply;return n.activePieces.filter((function(e){return e.type===t})).forEach((function(e){return r(e,n)}))}))};return o(),{getPlayerTurn:function(){return n.player.getCurrent()},getCapturedPieces:function(){return Object.freeze(Object(u.a)(n.capturedPieces))},getPieceTypeAtPosition:function(e,t){var r=n.positionLookup.get("".concat(e).concat(t));return r&&[r.type,r.player]},getPossibleMovesAtPosition:function(e,t){var r=n.positionLookup.get("".concat(e).concat(t));return r&&r.player===n.player.getCurrent()?Object.freeze(Object(u.a)(r.possibleMoves)):[]},movePiece:function(e,t,r,i){var a=n.positionLookup.get("".concat(e).concat(t));if(!a)return!1;var c=a.possibleMoves.find((function(e){return e.movedPieces[0].piece===a&&e.movedPieces[0].to[0]===r&&e.movedPieces[0].to[1]===i}));return!!c&&(c.movedPieces.forEach((function(e){var t=e.piece,r=Object(l.a)(e.to,2),n=r[0],i=r[1];t.file=n,t.rank=i})),c.capturedPieces.forEach((function(e){n.activePieces.splice(n.activePieces.indexOf(e),1),n.capturedPieces.push(e)})),n.history.push(c),a.moveHistory.push(c),n.player.toggle(),o(),!0)},undo:function(){var e=n.history.pop();return!!e&&(e.capturedPieces.forEach((function(e){n.capturedPieces.splice(n.capturedPieces.indexOf(e),1),n.activePieces.push(e)})),e.movedPieces.forEach((function(e,t){var r=e.piece,n=Object(l.a)(e.from,2),i=n[0],o=n[1];0===t&&r.moveHistory.pop(),r.file=i,r.rank=o})),n.player.toggle(),o(),!0)}}}(e,t,!0)}),[e,t]),a=Object(n.useCallback)((i=Object(y.a)(Object(y.a)({},Ge),null!==r&&void 0!==r?r:{}),function(e,t,r){var n=i[e]&&i[e]["white"===t?0:1];return n?Object(c.jsx)(n,{style:null===r||void 0===r?void 0:r.style},null===r||void 0===r?void 0:r.key):null}),[r]),f=Object(n.useState)(),s=Object(l.a)(f,2),p=s[0],d=s[1],v=Object(n.useState)([]),m=Object(l.a)(v,2),k=m[0],g=m[1],O=Object(n.useState)(1),j=Object(l.a)(O,2),L=j[0],C=j[1],E=Object(n.useState)(),P=Object(l.a)(E,2),M=P[0],x=P[1];return{getPositionProperties:function(e,t,r){var n,i,f=null!==(n=null===(i=k.find((function(r){var n=Object(l.a)(r,2),i=n[0],o=n[1];return i===e&&o===t})))||void 0===i?void 0:i[2])&&void 0!==n?n:(Je[e]+t)%2===0?"brown":"beige",s=o.getPieceTypeAtPosition(e,t),y=s?a.apply(void 0,Object(u.a)(s)):null;return M&&p&&p[0]===e&&p[1]===t&&(y=Object(c.jsxs)(c.Fragment,{children:[y,Object(c.jsx)(Ve,{from:p,to:M,rotationOffset:null!==r&&void 0!==r?r:0})]})),{backgroundColor:f,renderedPiece:y}},selectPosition:function(e,t){var r=o.getPieceTypeAtPosition(e,t),n=function(){if(r&&r[1]===o.getPlayerTurn()){var n=o.getPossibleMovesAtPosition(e,t);if(0!==n.length){var i=[],a=[];n.forEach((function(e){i.push.apply(i,Object(u.a)(e.capturedPieces.map((function(e){return[e.file,e.rank,"red"]}))));var t=Object(l.a)(e.movedPieces,1)[0];a.push([].concat(Object(u.a)(t.to),["cyan"]))})),d([e,t]),g([[e,t,"green"]].concat(i,a))}}},i=function(){d(void 0),g([]),x(void 0)};p&&p[0]===e&&p[1]===t?i():p&&r&&r[1]===o.getPlayerTurn()?n():p?(o.movePiece.apply(o,Object(u.a)(p).concat([e,t]))&&C(L+1),i()):n()},previewPosition:function(e,t){p&&(o.getPossibleMovesAtPosition.apply(o,Object(u.a)(p)).some((function(r){return r.movedPieces[0].to[0]===e&&r.movedPieces[0].to[1]===t}))&&x([e,t]))},unpreviewPosition:function(){return x(void 0)},undo:function(){o.undo()&&C(L-1)},renderCaptures:function(e){var t=e?o.getCapturedPieces().filter((function(t){return t.player===e})):o.getCapturedPieces();return Object(c.jsx)(c.Fragment,{children:t.map((function(e,t){var r=e.type,n=e.player;return a(r,n,{key:t,style:{width:"var(--cell-width)",height:"var(--cell-width)"}})}))})},turnNumber:L,playerTurn:o.getPlayerTurn()}},Ve=function(e){var t,r,n=(t=e.from[0],r=e.to[0],Object(d.match)([t,r]).with(["a","b"],["b","c"],["c","d"],["d","e"],["e","f"],["f","g"],["g","h"],(function(){return 1})).with(["a","c"],["b","d"],["c","e"],["d","f"],["e","g"],["f","h"],(function(){return 2})).with(["a","d"],["b","e"],["c","f"],["d","g"],["e","h"],(function(){return 3})).with(["a","e"],["b","f"],["c","g"],["d","h"],(function(){return 4})).with(["a","f"],["b","g"],["c","h"],(function(){return 5})).with(["a","g"],["b","h"],(function(){return 6})).with(["a","h"],(function(){return 7})).with(["h","g"],["g","f"],["f","e"],["e","d"],["d","c"],["c","b"],["b","a"],(function(){return-1})).with(["h","f"],["g","e"],["f","d"],["e","c"],["d","b"],["c","a"],(function(){return-2})).with(["h","e"],["g","d"],["f","c"],["e","b"],["d","a"],(function(){return-3})).with(["h","d"],["g","c"],["f","b"],["e","a"],(function(){return-4})).with(["h","c"],["g","b"],["f","a"],(function(){return-5})).with(["h","b"],["g","a"],(function(){return-6})).with(["h","a"],(function(){return-7})).with(["a","a"],["b","b"],["c","c"],["d","d"],["e","e"],["f","f"],["g","g"],["h","h"],(function(){return 0})).exhaustive()),i=function(e,t){return t-e}(e.from[1],e.to[1]),o=Math.sqrt(n*n+i*i),a=-Math.atan2(i,n)+e.rotationOffset;return Object(c.jsx)("div",{className:"Arrow",style:{width:"calc((".concat(o," * var(--cell-width)) - 2rem)"),transform:"rotate(".concat(a,"rad)")}})},Xe=function(){var e=Qe(),t=Object(n.useState)("turn"),r=Object(l.a)(t,2),i=r[0],o=r[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"App__Info",children:[Object(c.jsxs)("h3",{children:["Turn: ",e.playerTurn]}),Object(c.jsxs)("label",{htmlFor:"perspectiveEnabled",children:["Player Perspective:\xa0",Object(c.jsxs)("select",{id:"perspectiveEnabled",value:i,onChange:function(e){return o(e.target.value)},children:[Object(c.jsx)("option",{value:"turn",children:"Turn"}),Object(c.jsx)("option",{value:"white",children:"White"}),Object(c.jsx)("option",{value:"black",children:"Black"})]})]}),Object(c.jsx)("button",{onClick:e.undo,children:"Undo"})]}),Object(c.jsx)(p,{onCellClick:e.selectPosition,onCellMouseOver:e.previewPosition,onCellMouseOut:e.unpreviewPosition,chessGame:e,perspective:"turn"===i?e.playerTurn:i}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"var(--grid-width)"},children:[Object(c.jsx)("div",{style:{width:"50%",display:"flex"},children:e.renderCaptures("black")}),Object(c.jsx)("div",{style:{width:"50%",display:"flex",flexDirection:"row-reverse"},children:e.renderCaptures("white")})]})]})},Ye=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,29)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;r(e),n(e),i(e),o(e),a(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(Xe,{})}),document.getElementById("root")),Ye()}},[[28,1,2]]]);
//# sourceMappingURL=main.fd35312d.chunk.js.map